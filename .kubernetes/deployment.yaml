apiVersion: "apps/v1"
kind: "Deployment"
metadata:
  name: "happy-queue"
  namespace: "default"
  labels:
    app: "happy-queue"
spec:
  replicas: 1
  selector:
    matchLabels:
      app: "happy-queue"
  template:
    metadata:
      labels:
        app: "happy-queue"
    spec:
      containers:
        - name: "happy-queue"
          image: "gcr.io/upheld-apricot-267218/happy-queue@sha256:027a05c81963d16527d7a8209d113e2c79481951b478041944daab120ca47505"
          env:
            - name: JASYPT_ENCRYPTOR_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: jasypt-encryptor-password
                  key: password
            - name: CLOUD_SQL_IP
              value: "10.38.192.3"
